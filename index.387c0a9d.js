const e=document.querySelector(".products-list"),t=t=>{console.log(t);let o=t.map(e=>`<li class="product-item" id="${e.id}">
            <p class="product-name">${e.name}</p>
            <p class="product-price">${e.price}</p>
            <p class="product-sort">${e.description}</p>
            <img src="${e.image}" class="product-img"></img>
            <button class="delete-btn" type="button">delete</button>
            <button class="edit-btn" type="button">edit</button>
        </li>`).join("");e.insertAdjacentHTML("beforeend",o)},o=e=>fetch(`http://localhost:3000/products/${e}`,{method:"DELETE"}).then(e=>e).catch(e=>console.log("Error:",e)),n=()=>{document.querySelectorAll(".delete-btn").forEach(e=>{e.addEventListener("click",()=>{o(e.parentElement.id)})})},c=(e,t)=>{fetch(`https://jsonplaceholder.typicode.com/posts/${t}`,{method:"PATCH",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(e=>e.json()).then(e=>console.log(e)).catch(e=>console.log("ERROR"+e))},l=()=>{let e;document.querySelectorAll(".edit-btn").forEach(t=>{t.addEventListener("click",t=>{document.querySelector(".edit-modal").classList.remove("is-hidden"),console.log(e=t.target.parentElement.id)})});let t=document.querySelector(".edit-form__info"),o=document.querySelector(".edit-modal");t.addEventListener("submit",n=>{n.preventDefault(),o.classList.add("is-hidden"),c({name:`${t.elements.name.value}`,price:`${t.elements.price.value}`,description:`${t.elements.description.value}`,img:`${t.elements.img.value}`},e)}),document.querySelector(".close-edit-modal").addEventListener("click",()=>{document.querySelector(".edit-modal").classList.add("is-hidden")})};fetch("http://localhost:3000/products").then(e=>e.json()).then(e=>{t(e),n(),l()});const s=document.querySelector(".open-modal"),d=document.querySelector(".close-modal"),i=document.querySelector(".modal");s.addEventListener("click",e=>{e.preventDefault(),i.classList.remove("is-hidden")}),d.addEventListener("click",e=>{e.preventDefault(),i.classList.add("is-hidden")});const r=e=>fetch("http://localhost:3000/products",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(e=>e.json()).then(e=>e).catch(e=>console.log(e)),a=document.querySelector(".form-info"),m=document.querySelector(".modal");a.addEventListener("submit",e=>{e.preventDefault(),m.classList.add("is-hidden"),r({name:`${a.elements.name.value}`,price:`${a.elements.price.value}`,description:`${a.elements.description.value}`,img:`${a.elements.img.value}`})});
//# sourceMappingURL=index.387c0a9d.js.map
