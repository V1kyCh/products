const e=document.querySelector(".products-list"),t=t=>{console.log(t);let o=t.map(e=>`<li class="product-item" id="${e.id}">
            <p class="product-name">${e.name}</p>
            <p class="product-price">${e.price}</p>
            <p class="product-sort">${e.description}</p>
            <img src="${e.image}" class="product-img"></img>
            <button class="delete-btn" type="button">delete</button>
            <button class="edit-btn" type="button">edit</button>
        </li>`).join("");e.insertAdjacentHTML("beforeend",o)},o=e=>fetch(`http://localhost:3000/products/${e}`,{method:"DELETE"}).then(e=>e).catch(e=>console.log("Error:",e)),n=()=>{document.querySelectorAll(".delete-btn").forEach(e=>{e.addEventListener("click",()=>{o(e.parentElement.id)})})},c=(e,t)=>{fetch(`https://jsonplaceholder.typicode.com/posts/${t}`,{method:"PATCH",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(e=>e.json()).then(e=>console.log(e)).catch(e=>console.log("ERROR"+e))},s=()=>{let e;document.querySelectorAll(".edit-btn").forEach(t=>{t.addEventListener("click",t=>{document.querySelector(".edit-modal").classList.remove("is-hidden"),console.log(e=t.target.parentElement.id)})});let t=document.querySelector(".edit-form__info"),o=document.querySelector(".edit-modal");t.addEventListener("submit",n=>{n.preventDefault(),o.classList.add("is-hidden"),c({name:`${t.elements.name.value}`,price:`${t.elements.price.value}`,description:`${t.elements.description.value}`,img:`${t.elements.img.value}`},e)}),document.querySelector(".close-edit-modal").addEventListener("click",()=>{document.querySelector(".edit-modal").classList.add("is-hidden")})},d=()=>fetch("http://localhost:3000/products").then(e=>e.json()).then(e=>{t(e),n(),s()});d();const l=document.querySelector(".open-modal"),i=document.querySelector(".close-modal"),r=document.querySelector(".modal");l.addEventListener("click",e=>{e.preventDefault(),r.classList.remove("is-hidden")}),i.addEventListener("click",e=>{e.preventDefault(),r.classList.add("is-hidden")});const a=async e=>{try{return await fetch("https://679fbd2724322f8329c48216.mockapi.io/products/products",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(e=>e.json())}catch(e){console.log(e)}},m=document.querySelector(".form-info"),u=document.querySelector(".modal");m.addEventListener("submit",async e=>{e.preventDefault(),u.classList.add("is-hidden");let o={name:`${m.elements.name.value}`,price:`${m.elements.price.value}`,description:`${m.elements.description.value}`,img:`${m.elements.img.value}`};await a(o).then(e=>e),await d().then(e=>{t(e),n(),s()})});
//# sourceMappingURL=index.776dd461.js.map
